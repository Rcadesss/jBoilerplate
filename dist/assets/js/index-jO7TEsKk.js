import{u as L}from"./index-DA2XFp22.js";import{_ as h,k as j,ac as q,ad as E,ae as O,af as b,ag as W,r as z,s as p,l as Q,f as X,c as G,a as H,b as J,e as K,q as P}from"./ui-C4w66l92.js";import{_ as Y}from"./PageHeader.vue_vue_type_script_setup_true_lang-DRbV6GoI.js";import{d as Z,r as x,c as v,O as ee,a as m,g as a,b as l,w as n,h as _,u as s,c3 as se,f as w,x as te,c4 as ae,a3 as le,t as i,bT as y,e as k,bE as C,c5 as $,a6 as V,F as ne,i as oe,o as d,n as N,l as ie,c6 as re}from"./vendor-DZcsUN7r.js";import{_ as de}from"./superadmin-uvXGcxul.js";import"./deps-CzC_8w3S.js";import"./auth-B0aURRz3.js";const ue={class:"space-y-6"},ce={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},fe={class:"bg-card rounded-lg border shadow-sm p-4 mb-4"},me={class:"flex flex-col sm:flex-row gap-4"},_e={class:"relative flex-1"},pe={class:"flex gap-2"},ge={class:"flex items-center gap-2"},ve={key:0,class:"mt-2 text-sm text-muted-foreground"},xe={class:"flex items-center gap-2"},we={class:"flex items-center gap-2"},he={class:"relative"},be={key:0,class:"absolute -top-1 -right-1 w-2 h-2 bg-primary rounded-full"},ye={class:"flex items-center gap-2"},ke={class:"flex items-center gap-2"},Ce={class:"flex items-center gap-2"},$e={class:"space-y-4"},Ve={key:0,class:"p-4 text-center text-muted-foreground"},Ne=["onClick"],Te={class:"mt-1"},Ae={class:"flex-1"},Se={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-1"},Fe={class:"font-semibold"},De={class:"text-xs text-muted-foreground"},Ie={class:"text-sm text-muted-foreground"},Re={class:"text-xs text-muted-foreground mt-2"},Ue=Z({__name:"index",setup(Be){const T=[{count:1,label:"Notifications",href:"/notifications",action:!1}],u=L(),r=x(""),c=x("all"),f=x("newest"),g=v(()=>{let o=[...u.notifications];if(c.value!=="all"&&(c.value==="unread"?o=o.filter(e=>!e.read):o=o.filter(e=>e.type===c.value)),r.value.trim()){const e=r.value.toLowerCase().trim();o=o.filter(t=>t.title.toLowerCase().includes(e)||t.message.toLowerCase().includes(e))}return f.value==="newest"?o.sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()):f.value==="oldest"&&o.sort((e,t)=>e.timestamp.getTime()-t.timestamp.getTime()),o});function A(o){switch(o){case"success":return $;case"error":return re;case"warning":return V;case"info":default:return C}}const S=v(()=>{switch(c.value){case"unread":return"Unread Notifications";case"info":return"Information Notifications";case"success":return"Success Notifications";case"warning":return"Warning Notifications";case"all":default:return"All Notifications"}}),F=v(()=>{switch(c.value){case"unread":return"View your unread notifications";case"info":return"View all informational notifications";case"success":return"View all success notifications";case"warning":return"View all warning notifications";case"all":default:return"View all of your notifications in one place"}});function D(o){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(o)}function I(o){const t=Math.floor((new Date().getTime()-o.getTime())/1e3);return t<60?"just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:`${Math.floor(t/86400)}d ago`}function R(o){u.markAsRead(o)}function U(){u.markAllAsRead()}function B(){r.value="",f.value="newest"}const M=v(()=>r.value.trim()!==""||f.value!=="newest");return ee(()=>{}),(o,e)=>(d(),m("div",ue,[a(Y,{breadcrumb:T}),l("div",ce,[e[4]||(e[4]=l("div",null,[l("h1",{class:"text-2xl sm:text-3xl font-bold text-foreground"}," Notifications "),l("p",{class:"text-muted-foreground mt-1"}," View and manage your notification history ")],-1)),a(s(h),{variant:"outline",class:"gap-2",onClick:U,disabled:s(u).unreadCount===0},{default:n(()=>[a(s(se),{class:"h-4 w-4"}),e[3]||(e[3]=_(" Mark All as Read "))]),_:1,__:[3]},8,["disabled"])]),l("div",fe,[l("div",me,[l("div",_e,[a(s(te),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(s(j),{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),placeholder:"Search by title or message...",class:"pl-10"},null,8,["modelValue"])]),l("div",pe,[a(s(W),{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t),class:"w-[140px]"},{default:n(()=>[a(s(q),null,{default:n(()=>[l("div",ge,[a(s(ae),{class:"h-4 w-4"}),a(s(E),{placeholder:"Sort by"})])]),_:1}),a(s(O),null,{default:n(()=>[a(s(b),{value:"newest"},{default:n(()=>e[5]||(e[5]=[_("Newest First")])),_:1,__:[5]}),a(s(b),{value:"oldest"},{default:n(()=>e[6]||(e[6]=[_("Oldest First")])),_:1,__:[6]})]),_:1})]),_:1},8,["modelValue"]),a(s(h),{variant:"outline",class:"gap-2",onClick:B,disabled:!M.value},{default:n(()=>[a(s(le),{class:"h-4 w-4"}),e[7]||(e[7]=l("span",{class:"hidden sm:inline"},"Reset",-1))]),_:1,__:[7]},8,["disabled"])])]),r.value?(d(),m("div",ve," Found "+i(g.value.length)+" result"+i(g.value.length!==1?"s":"")+' for "'+i(r.value)+'" ',1)):w("",!0)]),a(s(P),{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),class:"w-full"},{default:n(()=>[a(s(z),{class:"w-full mb-4 grid grid-cols-5 sm:grid-cols-5"},{default:n(()=>[a(s(p),{value:"all"},{default:n(()=>[l("div",xe,[a(s(y),{class:"h-4 w-4"}),e[8]||(e[8]=l("span",{class:"hidden sm:inline"},"All",-1))])]),_:1}),a(s(p),{value:"unread"},{default:n(()=>[l("div",we,[l("div",he,[a(s(y),{class:"h-4 w-4"}),s(u).unreadCount>0?(d(),m("span",be)):w("",!0)]),e[9]||(e[9]=l("span",{class:"hidden sm:inline"},"Unread",-1)),s(u).unreadCount>0?(d(),k(s(Q),{key:0,variant:"secondary",class:"ml-1 hidden sm:inline-flex"},{default:n(()=>[_(i(s(u).unreadCount),1)]),_:1})):w("",!0)])]),_:1}),a(s(p),{value:"info"},{default:n(()=>[l("div",ye,[a(s(C),{class:"h-4 w-4 text-blue-600"}),e[10]||(e[10]=l("span",{class:"hidden sm:inline"},"Info",-1))])]),_:1}),a(s(p),{value:"success"},{default:n(()=>[l("div",ke,[a(s($),{class:"h-4 w-4 text-green-600"}),e[11]||(e[11]=l("span",{class:"hidden sm:inline"},"Success",-1))])]),_:1}),a(s(p),{value:"warning"},{default:n(()=>[l("div",Ce,[a(s(V),{class:"h-4 w-4 text-amber-600"}),e[12]||(e[12]=l("span",{class:"hidden sm:inline"},"Warning",-1))])]),_:1})]),_:1}),a(s(X),null,{default:n(()=>[a(s(G),{class:"pb-3"},{default:n(()=>[a(s(H),null,{default:n(()=>[_(i(S.value),1)]),_:1}),a(s(J),null,{default:n(()=>[_(i(F.value),1)]),_:1})]),_:1}),a(s(K),null,{default:n(()=>[l("div",$e,[g.value.length===0?(d(),m("div",Ve," No notifications found ")):(d(!0),m(ne,{key:1},oe(g.value,t=>(d(),m("div",{key:t.id,class:N(["flex gap-4 p-4 rounded-lg transition-colors",{"bg-muted":!t.read}]),onClick:Me=>R(t.id)},[l("div",Te,[(d(),k(ie(A(t.type)),{class:N(["h-5 w-5",{"text-green-600":t.type==="success","text-blue-600":t.type==="info","text-amber-600":t.type==="warning","text-red-600":t.type==="error"}])},null,8,["class"]))]),l("div",Ae,[l("div",Se,[l("h3",Fe,i(t.title),1),l("span",De,i(I(t.timestamp)),1)]),l("p",Ie,i(t.message),1),l("div",Re,i(D(t.timestamp)),1)])],10,Ne))),128))])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),Qe=de(Ue,[["__scopeId","data-v-cdd9827e"]]);export{Qe as default};

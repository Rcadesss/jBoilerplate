import{d as te,c as se,r as y,a as p,o as m,g as l,b as t,e as S,f as _,w as o,u as s,h as i,t as d,j as le}from"./vendor-DGZwV-PT.js";import{u as ae}from"./auth-C-nRChIL.js";import{_ as oe}from"./PageHeader.vue_vue_type_script_setup_true_lang-CW9RoTLY.js";import{D as ne,E as ie,C as ue,H as L,I as R,J as F,_ as h,j as k,k as V,f as C,c as z,a as B,b as T,e as q,A as P,ab as E}from"./ui-CDWYX3AX.js";import{_ as de}from"./superadmin-DOOOnK-A.js";import"./deps-CzC_8w3S.js";const re={class:"space-y-6"},me={class:"grid grid-cols-12 gap-6"},fe={class:"col-span-12 lg:col-span-8"},ce={key:0,class:"space-y-6"},ve={class:"flex items-center space-x-4"},pe={class:"text-xl font-semibold"},_e={class:"text-sm text-muted-foreground"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6"},xe={class:"space-y-1"},ye={class:"space-y-1"},he={class:"space-y-1"},be={class:"space-y-1"},we={class:"space-y-1"},ke={class:"pt-4"},Ve={class:"flex items-center space-x-4"},$e={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6"},Se={class:"space-y-1"},Ce={key:0,class:"text-sm text-red-500 mt-1"},Pe={class:"space-y-1"},Ee={key:0,class:"text-sm text-red-500 mt-1"},Ue={class:"space-y-1"},Ae={key:0,class:"text-sm text-red-500 mt-1"},Me={class:"space-y-1"},Ne={key:0,class:"text-sm text-red-500 mt-1"},je={class:"flex space-x-2 pt-4"},De={key:0,class:"mr-2"},Ie={class:"col-span-12 lg:col-span-4 space-y-6"},Le={class:"space-y-2"},Re={class:"flex justify-between items-center"},Fe={class:"space-y-2"},ze={class:"flex justify-between items-center"},Be={class:"space-y-2"},Te={class:"flex justify-between items-center"},qe={class:"flex items-center justify-between"},He={class:"flex items-center justify-between"},Je=te({__name:"index",setup(Oe){const U=ae(),u=se(()=>U.user),w=y(!1),$=y(!1),x=y(!1),n=y({fullname:"",email:"",avatar:"",phone:"",location:""}),r=y({fullname:"",email:"",phone:"",location:""}),A=y(null),H=[{count:1,label:"My Profile",href:"/profile",action:!1}];function J(){var a,e,g,v,c,b;n.value={fullname:((a=u.value)==null?void 0:a.fullname)||"",email:((e=u.value)==null?void 0:e.email)||"",avatar:((v=(g=u.value)==null?void 0:g.avatar)==null?void 0:v.toString())||"",phone:((c=u.value)==null?void 0:c.phone)||"",location:((b=u.value)==null?void 0:b.location)||""},w.value=!0}function O(){w.value=!1}function Y(){r.value={fullname:"",email:"",phone:"",location:""};let a=!0;n.value.fullname.trim()||(r.value.fullname="Full name is required",a=!1),n.value.email.trim()?X(n.value.email)||(r.value.email="Please enter a valid email address",a=!1):(r.value.email="Email is required",a=!1),n.value.phone&&!Z(n.value.phone)&&(r.value.phone="Please enter a valid phone number",a=!1),a&&G()}async function G(){if(u.value){x.value=!0;try{await new Promise(e=>setTimeout(e,1e3));const a={...u.value,fullname:n.value.fullname,email:n.value.email,avatar:n.value.avatar,phone:n.value.phone,location:n.value.location};localStorage.setItem("user",JSON.stringify(a)),U.user=a,$.value=!0,setTimeout(()=>{$.value=!1},3e3),w.value=!1}catch(a){console.error("Error updating profile:",a)}finally{x.value=!1}}}function M(a){return a?a.split(" ").map(e=>e[0]).join("").toUpperCase():""}function K(a){return a?{superadmin:"Super Admin",studio:"Studio",photographer:"Photographer",affiliate:"Affiliate"}[a]||a:""}function Q(){var a;(a=A.value)==null||a.click()}function W(a){const e=a.target;if(e.files&&e.files.length>0){const g=e.files[0],v=new FileReader;v.onload=c=>{c.target&&typeof c.target.result=="string"&&(n.value.avatar=c.target.result)},v.readAsDataURL(g)}}function X(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)}function Z(a){return/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/.test(a)}function ee(a){return a?new Date(a).toLocaleDateString():""}return(a,e)=>(m(),p("div",re,[l(oe,{breadcrumb:H}),e[31]||(e[31]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl font-bold text-foreground"},"My Profile"),t("p",{class:"text-muted-foreground mt-1"}," Manage your personal information and account settings ")],-1)),$.value?(m(),S(s(ue),{key:0,class:"mb-6 border-green-500 bg-green-50 text-green-700"},{default:o(()=>[l(s(ne),null,{default:o(()=>e[4]||(e[4]=[i("Success")])),_:1,__:[4]}),l(s(ie),null,{default:o(()=>e[5]||(e[5]=[i("Your profile has been updated successfully.")])),_:1,__:[5]})]),_:1})):_("",!0),t("div",me,[t("div",fe,[l(s(C),{class:"p-6"},{default:o(()=>{var g,v,c,b,N,j,D;return[w.value?(m(),p("form",{key:1,class:"space-y-6",onSubmit:le(Y,["prevent"])},[t("div",Ve,[l(s(L),{class:"h-20 w-20"},{default:o(()=>[n.value.avatar?(m(),S(s(R),{key:0,src:n.value.avatar},null,8,["src"])):_("",!0),l(s(F),null,{default:o(()=>[i(d(M(n.value.fullname)),1)]),_:1})]),_:1}),t("div",null,[e[13]||(e[13]=t("p",{class:"text-sm font-medium mb-1"},"Profile Picture",-1)),t("input",{type:"file",id:"avatar-upload",ref_key:"fileInput",ref:A,class:"hidden",accept:"image/*",onChange:W},null,544),l(s(h),{variant:"outline",size:"sm",onClick:Q},{default:o(()=>e[12]||(e[12]=[i("Change Photo")])),_:1,__:[12]})])]),t("div",$e,[t("div",Se,[l(s(k),{for:"fullname"},{default:o(()=>e[14]||(e[14]=[i("Full Name")])),_:1,__:[14]}),l(s(V),{id:"fullname",modelValue:n.value.fullname,"onUpdate:modelValue":e[0]||(e[0]=f=>n.value.fullname=f)},null,8,["modelValue"]),r.value.fullname?(m(),p("p",Ce,d(r.value.fullname),1)):_("",!0)]),t("div",Pe,[l(s(k),{for:"email"},{default:o(()=>e[15]||(e[15]=[i("Email")])),_:1,__:[15]}),l(s(V),{id:"email",modelValue:n.value.email,"onUpdate:modelValue":e[1]||(e[1]=f=>n.value.email=f),type:"email"},null,8,["modelValue"]),r.value.email?(m(),p("p",Ee,d(r.value.email),1)):_("",!0)]),t("div",Ue,[l(s(k),{for:"phone"},{default:o(()=>e[16]||(e[16]=[i("Phone")])),_:1,__:[16]}),l(s(V),{id:"phone",modelValue:n.value.phone,"onUpdate:modelValue":e[2]||(e[2]=f=>n.value.phone=f),type:"tel"},null,8,["modelValue"]),r.value.phone?(m(),p("p",Ae,d(r.value.phone),1)):_("",!0)]),t("div",Me,[l(s(k),{for:"location"},{default:o(()=>e[17]||(e[17]=[i("Location")])),_:1,__:[17]}),l(s(V),{id:"location",modelValue:n.value.location,"onUpdate:modelValue":e[3]||(e[3]=f=>n.value.location=f)},null,8,["modelValue"]),r.value.location?(m(),p("p",Ne,d(r.value.location),1)):_("",!0)])]),t("div",je,[l(s(h),{type:"submit",disabled:x.value},{default:o(()=>[x.value?(m(),p("span",De,e[18]||(e[18]=[t("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):_("",!0),i(" "+d(x.value?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"]),l(s(h),{type:"button",variant:"outline",onClick:O,disabled:x.value},{default:o(()=>e[19]||(e[19]=[i("Cancel")])),_:1,__:[19]},8,["disabled"])])],32)):(m(),p("div",ce,[t("div",ve,[l(s(L),{class:"h-20 w-20"},{default:o(()=>{var f;return[(f=u.value)!=null&&f.avatar?(m(),S(s(R),{key:0,src:String(u.value.avatar)},null,8,["src"])):_("",!0),l(s(F),null,{default:o(()=>{var I;return[i(d(M((I=u.value)==null?void 0:I.fullname)),1)]}),_:1})]}),_:1}),t("div",null,[t("h2",pe,d((g=u.value)==null?void 0:g.fullname),1),t("p",_e,d(K((v=u.value)==null?void 0:v.user_type)),1)])]),t("div",ge,[t("div",xe,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Email",-1)),t("p",null,d((c=u.value)==null?void 0:c.email),1)]),t("div",ye,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-muted-foreground"},"User ID",-1)),t("p",null,d((b=u.value)==null?void 0:b.id),1)]),t("div",he,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Phone",-1)),t("p",null,d(((N=u.value)==null?void 0:N.phone)||"Not provided"),1)]),t("div",be,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-muted-foreground"}," Location ",-1)),t("p",null,d(((j=u.value)==null?void 0:j.location)||"Not provided"),1)]),t("div",we,[e[10]||(e[10]=t("p",{class:"text-sm font-medium text-muted-foreground"}," Member Since ",-1)),t("p",null,d(ee((D=u.value)==null?void 0:D.created_at)||"Unknown"),1)])]),t("div",ke,[l(s(h),{onClick:J},{default:o(()=>e[11]||(e[11]=[i("Edit Profile")])),_:1,__:[11]})])]))]}),_:1})]),t("div",Ie,[l(s(C),null,{default:o(()=>[l(s(z),null,{default:o(()=>[l(s(B),null,{default:o(()=>e[20]||(e[20]=[i("Account Security")])),_:1,__:[20]}),l(s(T),null,{default:o(()=>e[21]||(e[21]=[i("Manage your account security settings")])),_:1,__:[21]})]),_:1}),l(s(q),{class:"space-y-4"},{default:o(()=>[t("div",Le,[t("div",Re,[e[23]||(e[23]=t("div",null,[t("h3",{class:"text-sm font-medium"},"Password"),t("p",{class:"text-xs text-muted-foreground"}," Last changed: Never ")],-1)),l(s(h),{variant:"outline",size:"sm"},{default:o(()=>e[22]||(e[22]=[i("Change Password")])),_:1,__:[22]})])]),l(s(P)),t("div",Fe,[t("div",ze,[e[24]||(e[24]=t("div",null,[t("h3",{class:"text-sm font-medium"},"Two-Factor Authentication"),t("p",{class:"text-xs text-muted-foreground"}," Enhance your account security ")],-1)),l(s(E))])]),l(s(P)),t("div",Be,[t("div",Te,[e[26]||(e[26]=t("div",null,[t("h3",{class:"text-sm font-medium"},"Login Sessions"),t("p",{class:"text-xs text-muted-foreground"}," Manage your active sessions ")],-1)),l(s(h),{variant:"outline",size:"sm"},{default:o(()=>e[25]||(e[25]=[i("View Sessions")])),_:1,__:[25]})])])]),_:1})]),_:1}),l(s(C),null,{default:o(()=>[l(s(z),null,{default:o(()=>[l(s(B),null,{default:o(()=>e[27]||(e[27]=[i("Preferences")])),_:1,__:[27]}),l(s(T),null,{default:o(()=>e[28]||(e[28]=[i("Manage your account preferences")])),_:1,__:[28]})]),_:1}),l(s(q),{class:"space-y-4"},{default:o(()=>[t("div",qe,[e[29]||(e[29]=t("div",null,[t("h3",{class:"text-sm font-medium"},"Email Notifications"),t("p",{class:"text-xs text-muted-foreground"}," Receive email notifications ")],-1)),l(s(E),{defaultChecked:""})]),l(s(P)),t("div",He,[e[30]||(e[30]=t("div",null,[t("h3",{class:"text-sm font-medium"},"Dark Mode"),t("p",{class:"text-xs text-muted-foreground"}," Toggle dark mode theme ")],-1)),l(s(E))])]),_:1})]),_:1})])])]))}}),Ze=de(Je,[["__scopeId","data-v-842cc3b5"]]);export{Ze as default};
